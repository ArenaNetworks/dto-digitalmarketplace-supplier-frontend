{% extends "_base_page.html" %}

{% block main_content %}
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
    {% for category, message in messages %}
        {% if category == 'error' %}
        <div class="banner-destructive-without-action">
        {% else %}
        <div class="banner-success-without-action">
        {% endif %}
        <p class="banner-message">{{ message }}</p>
    {% endfor %}
    </div>
{% endif %}
{% endwith %}

<header class="page-heading">
    <h1>Change password</h1>
</header>

<form action="{{ url_for('.update_password') }}" method="POST">

    <input type="hidden" name="user-id" value="{{ user_id }}">
    <input type="hidden" name="email-address" value="{{ email }}">
    <div class="question">
        <label for="password" class="question-heading-with-hint">
            New password {% if email %}for {{ email }}{% endif %}
        </label>

        <input type="password" name="password" id="password" class="text-box" value=""/>
    </div>

    <div class="question">
        <label for="confirm-password" class="question-heading">
            Confirm password
        </label>

        <p class="hint">
            Repeat password used above
        </p>
        <input type="password" name="confirm-password" id="confirm-password" class="text-box" value=""/>
    </div>


    <button class="button-save">Change password</button>
</form>
{% endblock %}
